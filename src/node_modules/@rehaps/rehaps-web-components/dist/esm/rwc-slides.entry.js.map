{"file":"rwc-slides.entry.js","mappings":"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","names":[],"sources":["src/components/basic/carousel/slides.scss?tag=rwc-slides&encapsulation=shadow","src/components/basic/carousel/slides.tsx"],"sourcesContent":["@import 'global.scss';\n\n:host {\n  /**\n   * @prop --slides-animation-duration: The duration of the slide change animations.\n   * @prop --slides-slide-fade-transition: The transition of the slide from active to default state.\n   * @prop --slides-slide-active-fade-transition: The transition of the slide from default to active state.\n   \n   * @prop display: The display mode of the host element.\n   */\n  --slides-animation-duration: 200ms;\n  \n  --slides-slide-fade-transition:\n    opacity var(--slides-animation-duration) ease-in-out,\n    visibility 0ms linear var(--slides-animation-duration),\n    position 0ms linear var(--slides-animation-duration),\n    left 0ms linear var(--slides-animation-duration);\n    \n  --slides-slide-active-fade-transition:\n    opacity var(--slides-animation-duration) ease-in-out var(--slides-animation-duration),\n    visibility 0ms linear var(--slides-animation-duration),\n    position 0ms linear var(--slides-animation-duration),\n    left 0ms linear var(--slides-animation-duration);\n\n  display: block;\n}\n\n.container {\n  width: 100%;\n  overflow-x: hidden;\n  position: relative;\n}\n\n.slide-flex {\n  display: flex;\n  flex-direction: row;\n}\n\n.slide-wrapper {\n  width: 100%;\n}\n\n::slotted(*) {\n  left: #{$off-screen};\n  opacity: 0;\n  position: absolute;\n  transition: var(--slides-slide-fade-transition);\n  visibility: hidden;\n}\n\n::slotted(.active) {\n  left: 0;\n  opacity: 1;\n  position: unset;\n  transition: var(--slides-slide-active-fade-transition);\n  visibility: visible;\n}\n","import { Component, h, Element, State, Prop, Event, EventEmitter, Method, FunctionalComponent, Listen, Host, Watch } from '@stencil/core';\nimport { IPaginable } from '../../../interfaces/actions/IPaginable';\nimport { EventManager } from '../../../utils/actions/eventManager';\nimport { RWCActionHelper } from '../../../utils/actions/rwcActionHelper';\n\n@Component({\n  tag: 'rwc-slides',\n  styleUrl: 'slides.scss',\n  shadow: true\n})\nexport class RwcSlides implements IPaginable {\n  /**\n   * The class name used for the active slide element.\n   */\n  static ACTIVE_SLIDE_CLASS = 'active';\n\n  /**\n   * The reference to the host element.\n   */\n  @Element() host: HTMLRwcSlidesElement;\n\n  /**\n   * Event manager used to manage component's event subscriptions.\n   */\n  public eventManager: EventManager = new EventManager();\n\n  /**\n   * List of the actions available for the Slides.\n   */\n  public actions: 'goTo'[] = ['goTo'];\n\n  /**\n   * The coroutine handling the slide animation.\n   */\n  private autoSlideCoroutine: NodeJS.Timer = null;\n\n  /**\n   * The reference to the element containing slides.\n   */\n  private slideContainer: HTMLSlotElement;\n\n  /**\n   * The reference to the slide elements.\n   */\n  private slides?: HTMLElement[];\n\n  /**\n   * Key used for initializing event listeners.\n   */\n  @Prop({ reflect: true }) rwcKey = RWCActionHelper.getDefaultComponentKey('slides');\n\n  /**\n   * The active slide on component load.\n   */\n  @Prop() defaultSlide: number = 0;\n\n  /**\n   * Enable auto slide change.\n   */\n  @Prop() autoSlide: boolean = false;\n\n  /**\n   * Auto slide change delay in milliseconds.\n   */\n  @Prop() autoSlideDelay: number = 5000;\n\n  /**\n   * Event fired when active slide has been changed.\n   */\n  @Event({ eventName: 'indexChange' }) changeEvent: EventEmitter<GoToEventDetail>;\n\n  /**\n   * Currently active tab.\n   */\n  @State() activeSlide: number = 0;\n  \n  @Watch('autoSlide')\n  onAutoSlideChange(): void {\n    this.init();\n  }\n\n  /**\n   * Pauses the auto slide if mouse is inside the content.\n   */\n  @Listen('mouseenter')\n  onMouseEnter(): void {\n    clearInterval(this.autoSlideCoroutine);\n  }\n\n  /**\n   * Resumes the auto slide if mouse is outside of the content.\n   */\n  @Listen('mouseleave')\n  onMouseLeave(): void {\n    if (this.autoSlide) {\n      this.initAutoSlide();\n    }\n  }\n  \n  /**\n   * Gets the currently active tab index in valid range.\n   */\n  private validateTargetIndex(value: number): number {\n    if (value > this.slides.length - 1 || value < 0) {\n      return 0;\n    }\n    \n    return value;\n  }\n\n  /**\n   * Initializes event listeners on render.\n   */\n  componentDidLoad(): void {\n    this.init();\n  }\n\n  /**\n   * Destroy component's event listeners before component is destroyed.\n   */\n  disconnectedCallback(): void {\n    clearInterval(this.autoSlideCoroutine);\n    this.eventManager.clearEventListeners();\n  }\n\n  /**\n   * Initialize the component.\n   */\n  init(): void {\n    this.eventManager.clearEventListeners();\n    this.slides = this.slideContainer.assignedElements() as HTMLElement[];\n    this.initDefaultSlide();\n    this.initGoToEventListeners();\n    clearInterval(this.autoSlideCoroutine);\n    if (this.autoSlide) {\n      this.initAutoSlide();\n    }\n  }\n\n  /**\n   * Initialize default tab.\n   */\n  initDefaultSlide(): void {\n    this.activeSlide = this.validateTargetIndex(this.activeSlide);\n    if (this.slides?.length > 0) {\n      this.slides[this.activeSlide].classList.add(RwcSlides.ACTIVE_SLIDE_CLASS);\n    }\n  }\n\n  /**\n   * Initialize auto slide coroutine.\n   */\n  initAutoSlide(): void {\n    clearInterval(this.autoSlideCoroutine);\n    this.autoSlideCoroutine = setInterval(() => {\n      this.goTo(this.validateTargetIndex(this.activeSlide + 1));\n    }, this.autoSlideDelay);\n  }\n\n  /**\n   * Change active tab to provided index and start indicator animation.\n   */\n  @Method()\n  async goTo(targetIndex: number | CustomEvent): Promise<void> {\n    const parsedIndex: number = this.validateTargetIndex(targetIndex instanceof CustomEvent ? Number.parseInt(targetIndex.detail.next) : targetIndex);\n    \n    if (this.activeSlide !== parsedIndex) {\n      this.slides.forEach(slide => {\n        slide.classList.remove(RwcSlides.ACTIVE_SLIDE_CLASS);\n      });\n\n      const originalEvent = targetIndex instanceof CustomEvent ? targetIndex : null;\n      this.setActiveSlide(parsedIndex, originalEvent);\n    }\n  }\n\n  /**\n   * Set html and class properties for active slide and fire change event.\n   */\n  setActiveSlide(targetIndex: number, originalEvent?: CustomEvent): void {\n    this.slides[targetIndex].classList.add(RwcSlides.ACTIVE_SLIDE_CLASS);\n    this.changeEvent.emit(originalEvent?.detail ?? { origin: this.host, next: targetIndex, previous: this.activeSlide });\n    this.activeSlide = targetIndex;\n  }\n\n  /**\n   * Find elements by attribute name and component's key and add event listeners on click.\n   */\n  initGoToEventListeners(): void {\n    RWCActionHelper.bindRWCActions(this, this.host, this.actions, this.rwcKey, 'indexChange');\n  }\n\n  /**\n   * Renders the component.\n   */\n  render(): FunctionalComponent {\n    return (\n      <Host>\n        <div\n          class={ {\n            container: true\n          } }\n        >\n          <div class=\"slide-wrapper\">\n            <div class=\"slide-flex\">\n              <slot\n                ref={ (slot: HTMLSlotElement) => this.slideContainer = slot }\n                onSlotchange={ () => this.init() }\n              />\n            </div>\n          </div>\n        </div>\n      </Host>\n    );\n  }\n}\n"],"version":3}