import{r as t,c as i,h as o,a as r,g as s}from"./p-3a21c21d.js";import{E as n}from"./p-e8ce849d.js";const e='@font-face{font-family:"Inter";font-style:normal;font-weight:400;font-display:swap;src:url("assets/fonts/inter/Inter-Regular.woff2?v=1.0") format("woff2"), url("assets/fonts/inter/Inter-Regular.woff?v=1.0") format("woff")}@font-face{font-family:"Inter";font-style:normal;font-weight:500;font-display:swap;src:url("assets/fonts/inter/Inter-Medium.woff2?v=1.0") format("woff2"), url("assets/fonts/inter/Inter-Medium.woff?v=1.0") format("woff")}@font-face{font-family:"Inter";font-style:normal;font-weight:600;font-display:swap;src:url("assets/fonts/inter/Inter-SemiBold.woff2?v=1.0") format("woff2"), url("assets/fonts/inter/Inter-SemiBold.woff?v=1.0") format("woff")}:host{--dropdown-background-color:#fff;--dropdown-border:1px solid rgb(224, 224, 224);--dropdown-border-radius:0.5rem;--dropdown-box-shadow:0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);--dropdown-max-width:100%;--dropdown-wrapper-transition:height var(--dropdown-animation-duration) ease-in-out;--dropdown-container-margin:0.125rem 0 0 0;--dropdown-container-padding:0.5rem 0;--dropdown-item-padding:0.125rem 0.5rem;--dropdown-item-background-color:transparent;--dropdown-item-hover-background-color:rgb(238, 238, 238);--dropdown-animation-duration:200ms;display:block;position:relative}.wrapper{background-color:var(--dropdown-background-color);border:var(--dropdown-border);border-radius:var(--dropdown-border-radius);box-shadow:var(--dropdown-box-shadow);height:0;left:-99999px;margin:var(--dropdown-container-margin);max-width:var(--dropdown-wrapper-max-width);overflow:hidden;position:absolute;transition:visibility 0ms var(--dropdown-animation-duration), left 0ms var(--dropdown-animation-duration), var(--dropdown-wrapper-transition)}.wrapper.open{left:0;visibility:visible;height:auto;transition:var(--dropdown-wrapper-transition)}.wrapper.mode-fixed{position:fixed}.wrapper.size-auto .container{display:inline-block}.container{padding:var(--dropdown-container-padding)}::slotted(*){background-color:var(--dropdown-item-background-color);padding:var(--dropdown-item-padding)}::slotted(*:hover){background-color:var(--dropdown-item-hover-background-color)}';const a=class{constructor(o){t(this,o);this.dropdownOpenEvent=i(this,"dropdownOpen",7);this.dropdownCloseEvent=i(this,"dropdownClose",7);this.eventManager=new n;this.openMode="manual";this.position="bottom";this.size="parent";this.mode="fixed";this.isOpen=false}componentWillLoad(){this.parent=this.host.parentElement;this.init()}componentDidLoad(){this.wrapperElement.style.height=`0px`}disconnectedCallback(){this.eventManager.clearEventListeners()}async init(){this.eventManager.clearEventListeners();this.initHoverEvents();this.initClickEvents()}onWindowScroll(){if(this.mode==="fixed"){this.calculateDropdownOffset()}}onWindowResize(){if(this.isOpen){this.setState(false)}}async onDocumentClick(t){if(this.isOpen&&!t.composedPath().includes(this.wrapperElement)){await new Promise(requestAnimationFrame);this.setState(false)}}initHoverEvents(){if(this.openMode==="hover"){this.eventManager.registerEventListener(this.parent,"mouseenter",(()=>this.setState(true)));this.eventManager.registerEventListener(this.parent,"mouseleave",(()=>this.setState(false)))}}initClickEvents(){if(this.openMode==="toggle"){this.eventManager.registerEventListener(this.parent,"click",(async()=>{if(!this.isOpen){await new Promise(requestAnimationFrame);this.setState(true)}}))}}async setState(t){this.handleStateChange(t)}async handleStateChange(t){this.isOpen=t;if(this.isOpen){this.dropdownOpenEvent.emit()}else{this.dropdownCloseEvent.emit()}await new Promise(requestAnimationFrame);this.calculateDropdownSize();this.calculateDropdownOffset()}async calculateDropdownOffset(){if(this.wrapperElement&&this.parent){let t=this.getStartingOffset();t=this.calculateSideOffset(t);t=this.fixOverflow(t);this.wrapperElement.style.left=this.isOpen?`${t.x}px`:"";this.wrapperElement.style.top=`${t.y}px`}}getStartingOffset(){if(this.mode==="fixed"){return{x:this.parent.getBoundingClientRect().left,y:this.parent.getBoundingClientRect().top}}else{return{x:0,y:0}}}calculateSideOffset({x:t,y:i}){if(this.position==="side"){t+=this.parent.offsetWidth;if(this.mode==="absolute"){i=-this.parent.offsetHeight}}else if(this.mode==="fixed"){i+=this.parent.offsetHeight}return{x:t,y:i}}fixOverflow({x:t,y:i}){const o=this.mode==="absolute"?this.parent.getBoundingClientRect().left+t+this.wrapperElement.offsetWidth:t+this.wrapperElement.offsetWidth;if(o>window.innerWidth){t-=o-window.innerWidth}return{x:t,y:i}}async calculateDropdownSize(){this.wrapperElement.style.height=`${this.isOpen?this.containerElement.offsetHeight:0}px`;if(this.mode==="fixed"&&this.size==="parent"){this.wrapperElement.style.width=`${this.parent.offsetWidth}px`}else{this.wrapperElement.style.width=""}}render(){return o(r,null,o("div",{ref:t=>this.wrapperElement=t,class:{wrapper:true,open:this.isOpen,[`mode-${this.mode}`]:true,[`size-${this.size}`]:true}},o("div",{ref:t=>this.containerElement=t,class:"container"},o("div",{class:"content"},o("slot",null)))))}get host(){return s(this)}};a.style=e;export{a as rwc_dropdown};
//# sourceMappingURL=p-454da79c.entry.js.map