{"file":"rwc-container.js","mappings":";;AAAA,MAAM,YAAY,GAAG,ksEAAksE;;MCQ1sE,SAAS;;;;;IAcZ,gBAAW,GAAY,KAAK,CAAC;;;0BAeH,IAAI;6BAKe,GAAG;+BAMlB,CAAC;qBAcT,KAAK;;EAPnC,yBAAyB,CAAC,QAAgB;IACxC,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAC,CAAC;GACrC;EAUD,iBAAiB;IACf,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;GACnD;EAKD,gBAAgB;IACd,IAAI,CAAC,wBAAwB,EAAE,CAAC;GACjC;EAMO,wBAAwB;IAC9B,IAAI,CAAC,oBAAoB,GAAG,IAAI,oBAAoB,CAClD,CAAC,OAAoC,KAAK,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,EAC1E,EAAE,SAAS,EAAE,IAAI,CAAC,mBAAmB,EAAE,CACxC,CAAC;IACF,IAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;GAC9C;EAKO,kBAAkB,CAAC,OAAoC;IAC7D,IAAI,OAAO,CAAC,CAAC,CAAC,CAAC,cAAc,EAAE;MAC7B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;MAEtB,IAAI,IAAI,CAAC,kBAAkB,KAAK,MAAM,IAAI,CAAC,IAAI,CAAC,kBAAkB,EAAE;QAClE,IAAI,CAAC,0BAA0B,EAAE,CAAC;OACnC;KACF;SAAM;MACL,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;MAEvB,IAAI,IAAI,CAAC,mBAAmB,KAAK,MAAM,IAAI,CAAC,IAAI,CAAC,mBAAmB,EAAE;QACpE,IAAI,CAAC,0BAA0B,EAAE,CAAC;OACnC;KACF;GACF;EAKO,0BAA0B;IAChC,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,oBAAoB,KAAK,CAAC,IAAI,CAAC,sBAAsB,IAAI,CAAC,IAAI,CAAC,qBAAqB,IAAI,IAAI,CAAC,SAAS,CAAC,EAAE;MACpI,IAAI,CAAC,oBAAoB,CAAC,UAAU,EAAE,CAAC;MACvC,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;KAClC;IACD,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;GACzB;EAKO,oBAAoB,CAAC,QAAgB;IAC3C,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,uBAAuB,EAAE,GAAI,QAAS,IAAI,CAAC,CAAC;GACzE;EAKD,IAAY,sBAAsB;IAChC,OAAO,IAAI,CAAC,mBAAmB,IAAI,IAAI,CAAC,mBAAmB,KAAK,MAAM,CAAC;GACxE;EAKD,IAAY,qBAAqB;IAC/B,OAAO,IAAI,CAAC,kBAAkB,IAAI,IAAI,CAAC,kBAAkB,KAAK,MAAM,CAAC;GACtE;EAKD,MAAM;IACJ,QACE,EAAC,IAAI,QACH,WACE,KAAK,EAAG;QACN,OAAO,EAAE,IAAI;QACb,OAAO,EAAE,IAAI,CAAC,SAAS;QACvB,iBAAiB,EAAE,IAAI,CAAC,cAAc;QACtC,CAAC,aAAc,IAAI,CAAC,mBAAoB,EAAE,GAAG,IAAI;QACjD,CAAC,cAAe,IAAI,CAAC,kBAAmB,EAAE,GAAG,IAAI;OAClD,IAED,WAAK,KAAK,EAAC,WAAW,IACpB,eAAQ,CACJ,CACF,CACD,EACP;GACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","names":[],"sources":["src/components/layout/container/container.scss?tag=rwc-container&encapsulation=shadow","src/components/layout/container/container.tsx"],"sourcesContent":["@import 'global.scss';\n\n:host {\n  display: block;\n\n  --_animation-duration: 300ms;\n}\n\n.animate-opacity {\n  opacity: 0;\n}\n\n.wrapper {\n  overflow: hidden;\n  position: relative;\n  transition: opacity var(--_animation-duration);\n\n  &.visible {\n    opacity: 1;\n\n    .container {\n      left: 0;\n      top: 0;\n    }\n  }\n}\n\n.container {\n  position: relative;\n  animation-duration: var(--_animation-duration);\n}\n\n.scroll-in-slide {\n  &-left {\n    .container {\n      left: -100%;\n    }\n  }\n\n  &-right {\n    .container {\n      left: 100%;\n    }\n  }\n\n  &-top {\n    .container {\n      top: -100%;\n    }\n  }\n\n  &-bottom {\n    .container {\n      top: 100%;\n    }\n  }\n}\n\n.visible {\n  &.scroll-in-slide {\n    &-left {\n      .container {\n        animation-name: slide-in-left;\n      }\n    }\n\n    &-right {\n      .container {\n        animation-name: slide-in-right;\n      }\n    }\n\n    &-top {\n      .container {\n        animation-name: slide-in-top;\n      }\n    }\n\n    &-bottom {\n      .container {\n        animation-name: slide-in-bottom;\n      }\n    }\n  }\n}\n\n.scroll-out-slide {\n  &-left {\n    .container {\n      animation-name: slide-out-left;\n    }\n  }\n\n  &-right {\n    .container {\n      animation-name: slide-out-right;\n    }\n  }\n\n  &-top {\n    .container {\n      animation-name: slide-out-top;\n    }\n  }\n\n  &-bottom {\n    .container {\n      animation-name: slide-out-bottom;\n    }\n  }\n}\n\n@keyframes slide-in-left {\n  0% {\n    left: -100%;\n    top: 0;\n  }\n\n  100% {\n    left: 0;\n    top: 0;\n  }\n}\n\n@keyframes slide-in-right {\n  0% {\n    left: 100%;\n    top: 0;\n  }\n\n  100% {\n    left: 0;\n    top: 0;\n  }\n}\n\n@keyframes slide-in-top {\n  0% {\n    top: -100%;\n    left: 0;\n  }\n\n  100% {\n    top: 0;\n    left: 0;\n  }\n}\n\n@keyframes slide-in-bottom {\n  0% {\n    top: 100%;\n    left: 0;\n  }\n\n  100% {\n    top: 0;\n    left: 0;\n  }\n}\n\n@keyframes slide-out-left {\n  0% {\n    left: 0;\n    top: 0;\n  }\n  100% {\n    left: -100%;\n    top: 0;\n  }\n}\n\n@keyframes slide-out-right {\n  0% {\n    left: 0;\n    top: 0;\n  }\n  100% {\n    left: 100%;\n    top: 0;\n  }\n}\n\n@keyframes slide-out-top {\n  0% {\n    top: 0;\n    left: 0;\n  }\n  100% {\n    top: -100%;\n    left: 0;\n  }\n}\n\n@keyframes slide-out-bottom {\n  0% {\n    top: 0;\n    left: 0;\n  }\n  100% {\n    bottom: 100%;\n    left: 0;\n  }\n}\n","import { Component, Prop, h, Element, Host, FunctionalComponent, State, Watch } from '@stencil/core';\nimport { ContainerAnimation } from '../../../interfaces/components/layout/container/types';\n\n@Component({\n  tag: 'rwc-container',\n  styleUrl: 'container.scss',\n  shadow: true\n})\nexport class Container {\n  /**\n   * Reference to the host element\n   */\n  @Element() host: HTMLElement;\n\n  /**\n   * The intersection observer of the component\n   */\n  private intersectionObserver: IntersectionObserver;\n  \n  /**\n   * Has the component been completely initialized\n   */\n  private initialized: boolean = false;\n\n  /**\n   * The animation to play when the container is scrolled into viewport\n   */\n  @Prop() scrollIntoAnimation: ContainerAnimation;\n\n  /**\n   * The animation to play when the container is scrolled out of viewport\n   */\n  @Prop() scrollOutAnimation: ContainerAnimation;\n\n  /**\n   * Enable the opacity animation for the scroll animation\n   */\n  @Prop() animateOpacity: boolean = true;\n\n  /**\n   * The duration of the animation in milliseconds\n   */\n  @Prop({ reflect: true }) animationDuration: number = 300;\n  \n  /**\n   * The intersection threshold for the animation to trigger \\\n   * What percentage of the element must be in the viewport to trigger the animation\n   */\n  @Prop() visibilityThreshold: number = 0;\n\n  /**\n   * Handle the animation duration change \\\n   * Sync the animation duration with the css animations\n   */\n  @Watch('animationDuration')\n  onAnimationDurationChange(newValue: number): void {\n    this.setAnimationDuration(newValue);\n  }\n\n  /**\n   * Is the host element currently inside the viewport\n   */\n  @State() isVisible: boolean = false;\n\n  /**\n   * Called when the component is to be loaded for the first time\n   */\n  componentWillLoad(): void {\n    this.setAnimationDuration(this.animationDuration);\n  }\n\n  /**\n   * Called when the component finishes loading for the first time\n   */\n  componentDidLoad(): void {\n    this.initIntersectionObserver();\n  }\n\n  /**\n   * Initialize the intersection observer \\\n   * Detects if the host element's height percentage defined by visibilityThreshold is inside the viewport. \n   */\n  private initIntersectionObserver(): void {\n    this.intersectionObserver = new IntersectionObserver(\n      (entries: IntersectionObserverEntry[]) => this.handleIntersection(entries),\n      { threshold: this.visibilityThreshold }\n    );\n    this.intersectionObserver.observe(this.host);\n  }\n\n  /**\n   * Handle the intersection state change\n   */\n  private handleIntersection(entries: IntersectionObserverEntry[]): void {\n    if (entries[0].isIntersecting) {\n      this.isVisible = true;\n      // If no scroll out animation defined, remove the observer\n      if (this.scrollOutAnimation === 'none' || !this.scrollOutAnimation) {\n        this.removeIntersectionObserver();\n      }\n    } else {\n      this.isVisible = false;\n      // If no scroll into animation defined, remove the observer\n      if (this.scrollIntoAnimation === 'none' || !this.scrollIntoAnimation) {\n        this.removeIntersectionObserver();\n      }\n    }\n  }\n\n  /**\n   * Remove the intersection observer from the component\n   */\n  private removeIntersectionObserver(): void {\n    if (this.initialized && this.intersectionObserver || (!this.hasScrollIntoAnimation && !this.hasScrollOutAnimation && this.isVisible)) {\n      this.intersectionObserver.disconnect();\n      this.intersectionObserver = null;\n    }\n    this.initialized = true;\n  }\n\n  /**\n   * Set the animation duration on the host's root element to sync with the css\n   */\n  private setAnimationDuration(duration: number): void {\n    this.host.style.setProperty('--_animation-duration', `${ duration }ms`);\n  }\n  \n  /**\n   * Does the component has the scroll into animation set\n   */\n  private get hasScrollIntoAnimation(): boolean {\n    return this.scrollIntoAnimation && this.scrollIntoAnimation !== 'none'; \n  }\n  \n  /**\n   * Does the component has the scroll out animation set\n   */\n  private get hasScrollOutAnimation(): boolean {\n    return this.scrollOutAnimation && this.scrollOutAnimation !== 'none';\n  }\n\n  /**\n   * Render the component\n   */\n  render(): FunctionalComponent {\n    return (\n      <Host>\n        <div\n          class={ {\n            wrapper: true,\n            visible: this.isVisible,\n            'animate-opacity': this.animateOpacity,\n            [`scroll-in-${ this.scrollIntoAnimation }`]: true,\n            [`scroll-out-${ this.scrollOutAnimation }`]: true,\n          } }\n        >\n          <div class=\"container\">\n            <slot />\n          </div>\n        </div>\n      </Host>\n    );\n  }\n}\n"],"version":3}